{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Activity.vue?2f39","webpack:///./src/views/Chart.vue?483c","webpack:///./src/App.vue?3f28","webpack:///./src/App.vue","webpack:///./src/App.vue?eabf","webpack:///./src/registerServiceWorker.ts","webpack:///./src/views/Home.vue","webpack:///./src/components/LoginButton.vue","webpack:///./src/services/ApiClient.ts","webpack:///./src/services/Storage.ts","webpack:///./src/components/LoginButton.vue?e257","webpack:///./src/services/notifier.ts","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue?a655","webpack:///./src/views/Activities.vue","webpack:///./src/services/StravaClient.ts","webpack:///./src/services/calculators/tss-calculator.ts","webpack:///./src/types/User.ts","webpack:///./src/services/Importer.ts","webpack:///./src/views/Activities.vue?a499","webpack:///./src/views/Activity.vue","webpack:///./src/views/Activity.vue?3e5b","webpack:///./src/views/Chart.vue","webpack:///./src/services/calculators/calculator.ts","webpack:///./src/services/calculators/tsb-calculator.ts","webpack:///./src/services/calculators/bannister-calculator.ts","webpack:///./src/views/Chart.vue?103d","webpack:///./src/views/Config.vue","webpack:///./src/views/Config.vue?dc30","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/views/Activities.vue?220f"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","class","id","to","script","render","ready","console","log","registered","cached","updatefound","updated","offline","error","refreshToken","show","login","API_URL","refresh_token","fetch","method","body","JSON","stringify","headers","response","json","authorization_code","code","store","set","CLIENT_ID","computed","loginLink","url","URL","searchParams","append","location","href","toString","methods","this","created","getItem","$route","query","scope","accessTokens","access_token","setItem","$router","permission","Notification","requestPermission","title","components","LoginButton","tokens","notifier","for","type","action","fetchActivities","start","end","activities","activity","Date","start_date","toISOString","split","tss","Math","round","getStreams","getTime","Authorization","then","res","ok","thresholdReserve","user","thresHr","restHr","maxHr","thresholdTrimp","exp","trimpFactor","trimpPart","seconds","hrRes","trimp","heartrate","time","hr","hrTss","thresTrimp","TRIMP_FACTOR","M","ids","streams","importStream","getActivity","getActivityStream","stream","setTime","getActivities","activitiesById","reduce","prev","curr","save","parse","values","importStreams","keys","sort","reverse","carry","parseInt","getStream","showChart","option","VChart","tooltip","trigger","legend","xAxis","yAxis","series","params","__scopeId","calculate","chart","disabled","DAY_IN_MILLISECONDS","timeline","date","start_date_local","limit","iso","day","lambdaA","lambdaC","yesterday","today","atl","ctl","form","tsb","days","v","kA","kF","rA","rF","fitness","fatigue","performance","p0","bannister","setOptions","map","markLine","filter","watch","$data","mounted","config","assign","routes","path","component","Home","Activities","Activity","Chart","Config","router","history","App","use","mount"],"mappings":"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","file":"js/app.de4bc2c9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dpm/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Activity.vue?vue&type=style&index=0&id=f9087ace&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Chart.vue?vue&type=style&index=0&id=b49bbc38&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=edde36ac&lang=css\"","<template>\n  <div class=\"app\">\n    <div id=\"nav\">\n      <router-link to=\"/\">Home</router-link> |\n      <router-link to=\"/activities\">Activities</router-link> |\n      <router-link to=\"/chart\">Chart</router-link> |\n      <router-link to=\"/config\">Config</router-link>\n    </div>\n    <router-view />\n  </div>\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n  text-align: center;\n}\n\n#nav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\n#nav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=edde36ac\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=edde36ac&lang=css\"\nscript.render = render\n\nexport default script","/* eslint-disable no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" +\n          \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","<template>\n  <div class=\"home\">\n    <LoginButton />\n    <button @click=\"refreshToken\">Refresh token</button>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport LoginButton from \"@/components/LoginButton.vue\";\nimport Storage from \"@/services/Storage\";\nimport ApiClient from \"@/services/ApiClient\";\nimport notifier from \"@/services/notifier\";\n\nexport default defineComponent({\n  name: \"Home\",\n  components: {\n    LoginButton,\n  },\n  methods: {\n    async refreshToken() {\n      const refreshToken = await Storage.getItem(\"refresh_token\");\n      const tokens = await ApiClient.refreshToken(refreshToken);\n      await Storage.setItem('refresh_token', tokens.refresh_token);\n      await Storage.setItem('access_token', tokens.access_token)\n    },\n  },\n  async created() {\n    console.log(notifier.permission);\n  }\n});\n</script>\n","<template>\n  <div v-if=\"show\" class=\"login-button\">\n    <button @click=\"login\">Login with strava</button>\n  </div>\n</template>\n\n<script>\nimport { defineComponent } from \"vue\";\nimport ApiClient from \"@/services/ApiClient\";\nimport Storage from \"../services/Storage\";\n\nconst CLIENT_ID = \"50808\";\n\nexport default defineComponent({\n  name: \"LoginButton\",\n  data() {\n    return {\n      show: true\n    }\n  },\n  computed: {\n    loginLink() {\n      const url = new URL(\"https://www.strava.com/oauth/authorize\");\n      url.searchParams.append(\"client_id\", CLIENT_ID);\n      url.searchParams.append(\"redirect_uri\", window.location.href);\n      url.searchParams.append(\"response_type\", \"code\");\n      url.searchParams.append(\"scope\", \"activity:read_all\");\n      return url.toString();\n    },\n  },\n  methods: {\n    login() {\n      window.location.href = this.loginLink\n    }\n  },\n  async created() {\n    if (await Storage.getItem('refresh_token')) {\n      // Don't show login button\n      this.show = false;\n    }\n\n    // The auth code.\n    const code = this.$route.query.code;\n    // The received scope.\n    const scope = this.$route.query.scope;\n    if (code) {\n      // Get the access code.\n      const { access_token, refresh_token } = await ApiClient.accessTokens(\n        code\n      );\n\n      if (access_token) {\n        await Storage.setItem(\"access_token\", access_token);\n        await Storage.setItem(\"refresh_token\", refresh_token);\n        await this.$router.push(\"/activities\");\n      }\n    }\n  },\n});\n</script>\n","const API_URL = process.env.NODE_ENV === 'production' ? 'https://dynamic-performance-modelling.herokuapp.com' : 'http://localhost:1235'\n\nexport default class ApiClient {\n\n  static async refreshToken(refresh_token: string) {\n    const response = await fetch(API_URL + '/api/refresh-token', {\n      method: 'POST',\n      body: JSON.stringify({ refresh_token }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    return await response.json();\n  }\n\n  static async accessTokens(authorization_code: string) {\n    const response = await fetch(API_URL + '/api/access-token', {\n      method: 'POST',\n      body: JSON.stringify({ code: authorization_code }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    return await response.json();\n  }\n\n}\n","import { createStore, get, set } from 'idb-keyval'\n\nconst store = createStore('localforage', 'keyvaluepairs');\n\n(window as any).set = set;\n(window as any).get = get;\n(window as any).store = store;\n\nexport default class Storage {\n\n  static async setItem(key: string, value: {}|string|number) {\n    await set(key, value, store)\n  }\n\n  static async getItem(key: string) {\n    return await get(key, store)\n  }\n\n}\n","import { render } from \"./LoginButton.vue?vue&type=template&id=efd861c2\"\nimport script from \"./LoginButton.vue?vue&type=script&lang=js\"\nexport * from \"./LoginButton.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","class Notifier {\n\n    public permission = Notification.permission === \"granted\";\n\n    async requestPermission() {\n        const permission = await Notification.requestPermission();\n        this.permission = permission === \"granted\";\n        return this.permission;\n    }\n\n    notify(title: string) {\n        if (!this.permission) {\n            return;\n        }\n\n        return new Notification(title);\n    }\n\n}\n\nexport default new Notifier()\n","\nimport { defineComponent } from \"vue\";\nimport LoginButton from \"@/components/LoginButton.vue\";\nimport Storage from \"@/services/Storage\";\nimport ApiClient from \"@/services/ApiClient\";\nimport notifier from \"@/services/notifier\";\n\nexport default defineComponent({\n  name: \"Home\",\n  components: {\n    LoginButton,\n  },\n  methods: {\n    async refreshToken() {\n      const refreshToken = await Storage.getItem(\"refresh_token\");\n      const tokens = await ApiClient.refreshToken(refreshToken);\n      await Storage.setItem('refresh_token', tokens.refresh_token);\n      await Storage.setItem('access_token', tokens.access_token)\n    },\n  },\n  async created() {\n    console.log(notifier.permission);\n  }\n});\n","import { render } from \"./Home.vue?vue&type=template&id=018da587\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"activities\">\n    <form action=\"#\" @submit.prevent=\"fetchActivities\">\n      <div>\n        <label for=\"start\">Start</label>\n        <input type=\"date\" name=\"start\" id=\"start\" v-model=\"start\"/>\n      </div>\n      <div>\n        <label for=\"end\">End</label>\n        <input type=\"date\" name=\"end\" id=\"end\" v-model=\"end\"/>\n      </div>\n      <div>\n        <input type=\"submit\" value=\"Fetch activities\"/>\n      </div>\n    </form>\n    <table class=\"activities\">\n      <thead>\n      <tr>\n        <th>Date</th>\n        <th>Name</th>\n        <th>TSS</th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr v-for=\"activity, id in activities\" :key=\"id\">\n        <td>{{ new Date(activity.start_date).toISOString().split('T')[0] }}</td>\n        <td>\n          <router-link :to=\"'/activities/' + activity.id\">{{ activity.name }}</router-link>\n        </td>\n        <td v-if=\"activity.tss\">\n          {{ Math.round(activity.tss * 100) / 100 }}\n        </td>\n        <td v-else>\n          <a @click.prevent=\"getStreams([id])\" href=\"#\">Calculate</a>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n\n  <router-view/>\n</template>\n<script>\nimport StravaClient from \"@/services/StravaClient\";\nimport Importer from \"@/services/Importer\";\nimport Storage from \"@/services/Storage\";\n\nexport default {\n  name: \"Activities\",\n  data() {\n    return {\n      start: new Date().toISOString().split(\"T\")[0],\n      end: new Date().toISOString().split(\"T\")[0],\n      activities: {},\n      streams: [],\n    };\n  },\n  methods: {\n    async fetchActivities() {\n      const start = new Date(this.start);\n      const end = new Date(this.end);\n      // Add a day because by default its 00:00.\n      end.setTime(end.getTime() + 1000 * 60 * 60 * 24);\n\n      const activities = await StravaClient.getActivities(start, end);\n      const activitiesById = activities.reduce(\n          (prev, curr) => {\n            prev[curr.id] = curr;\n            return prev;\n          },\n          {}\n      );\n\n      this.activities = {\n        ...activitiesById,\n        ...this.activities,\n      };\n\n      await this.save();\n    },\n    async save() {\n      await Storage.setItem(\n          \"activities\",\n          JSON.parse(JSON.stringify(this.activities))\n      );\n    },\n    async getStreams(streams) {\n      const ids = Object.values(streams);\n      const activities = await Importer.importStreams(ids);\n      for (const activity of activities) {\n        this.activities[activity.id] = activity;\n      }\n      this.streams = [];\n    },\n  },\n  async created() {\n    // Load the activities.\n    let activities = (await Storage.getItem(\"activities\")) || {};\n\n    // Sort the activities.\n    activities = Object.keys(activities)\n        .sort()\n        .reverse()\n        .reduce((carry, value) => {\n          carry[parseInt(value)] = activities[parseInt(value)];\n          return carry;\n        }, {});\n\n    this.activities = activities;\n\n    for (const id of Object.keys(activities)) {\n      const activity = await Storage.getItem('activity.' + id);\n      if (activity && activity.tss) {\n        this.activities[id].tss = activity.tss;\n      }\n    }\n  },\n}\n</script>\n\n<style>\ntable.activities tbody tr:hover {\n  background-color: var(--background);\n}\n</style>\n","import Storage from \"./Storage\";\n\n// FIXME: Count the amount of API calls.\nexport default class StravaClient {\n\n  static async getActivities(start: Date | null = null, end: Date | null = null) {\n    // Get the last 30 activities by default.\n    const url = new URL(\"https://www.strava.com/api/v3/athlete/activities\");\n\n    if (start && end) {\n      url.searchParams.append(\"after\", (start.getTime() / 1000).toString());\n      url.searchParams.append(\"before\", (end.getTime() / 1000).toString());\n    }\n\n    return await fetch(url.toString(), {\n      headers: {\n        Authorization: \"Bearer \" + (await Storage.getItem(\"access_token\"))\n      }\n    }).then(res => {\n      if (!res.ok) {\n        // FIXME: Print an error message.\n        return [];\n      }\n      return res.json();\n    });\n  }\n\n  static async getActivity(id: number) {\n    const url = new URL(`https://www.strava.com/api/v3/activities/${id}`);\n    return await fetch(url.toString(), {\n      headers: {\n        Authorization: \"Bearer \" + (await Storage.getItem(\"access_token\"))\n      }\n    }).then(res => res.json());\n  }\n\n  static async getActivityStream(id: number) {\n    const url = new URL(\n      `https://www.strava.com/api/v3/activities/${id}/streams`\n    );\n    url.searchParams.append(\"keys\", \"heartrate\");\n    url.searchParams.append(\"key_by_type\", \"true\");\n    url.searchParams.append(\"series_type\", \"time\");\n    url.searchParams.append(\"resolution\", \"high\");\n    return await fetch(url.toString(), {\n      headers: {\n        // FIXME: Wrap the token in a 'user' object.\n        Authorization: \"Bearer \" + (await Storage.getItem(\"access_token\"))\n      }\n    }).then(async res => {\n      if (!res.ok) {\n        // FIXME: Show a message.\n        return {};\n      }\n\n      return res.json();\n    });\n  }\n}\n","import {Activity} from \"@/types/Activity\";\nimport {User} from \"@/types/User\";\n\n/**\n * The users threshold reserve.\n */\nconst thresholdReserve = (user: User) => {\n  return (user.thresHr - user.restHr) / (user.maxHr - user.restHr);\n};\n\n/**\n * The maximum amount of trimp for 60' of training.\n */\nconst thresholdTrimp = (user: User) => {\n  return 60 * thresholdReserve(user) * 0.64 * Math.exp(user.trimpFactor * thresholdReserve(user));\n};\n\nconst trimpPart = (seconds: number, hrRes: number, user: User) => {\n  return (seconds / 60) * hrRes * 0.64 * Math.exp(user.trimpFactor * hrRes);\n}\n\nconst trimp = (activity: Activity, user: User) => {\n  let trimp = 0;\n\n  for (let i = 1; i < activity.heartrate.data.length; i++) {\n    // The amount of seconds between the 2 data points.\n    const seconds = activity.time.data[i] - activity.time.data[i - 1];\n\n    // The average heart rate between the 2 data points.\n    let hr = (activity.heartrate.data[i] + activity.heartrate.data[i - 1]) / 2;\n\n    // The reserve of the average heart rate.\n    hr = (hr - user.restHr) / (user.maxHr - user.restHr);\n\n    trimp += trimpPart(seconds, hr, user);\n  }\n\n  return trimp;\n}\n\nconst hrTss = (trimp: number, thresTrimp: number) => {\n  return (trimp / thresTrimp) * 60;\n}\n\nexport function tss(activity: Activity, user: User): number {\n  return hrTss(trimp(activity, user), thresholdTrimp(user));\n}\n","export const TRIMP_FACTOR_M = 1.92;\nexport const TRIMP_FACTOR_F = 1.67;\n\nexport enum TRIMP_FACTOR {\n    /**\n     * Male\n     */\n    M = 1.92,\n    /**\n     * Female\n     */\n    F = 1.67,\n}\n\nexport type User = {\n    restHr: number,\n    thresHr: number,\n    maxHr: number,\n    trimpFactor: TRIMP_FACTOR,\n}\n","import StravaClient from \"@/services/StravaClient\";\nimport Storage from \"./Storage\";\nimport {tss} from \"@/services/calculators/tss-calculator\";\nimport {TRIMP_FACTOR, User} from \"@/types/User\";\n\nconst user: User = {\n  restHr: 43,\n  thresHr: 193,\n  maxHr: 208,\n  trimpFactor: TRIMP_FACTOR.M,\n}\n\nexport default class Importer {\n  static async importStreams(ids: number[]) {\n    const streams = [];\n\n    for (const id of ids) {\n      // FIXME: Set a soft limit on this.\n      streams.push(await this.importStream(id));\n    }\n\n    return streams;\n  }\n\n  static async importStream(id: number) {\n    let activity: { id?: number } =\n      (await Storage.getItem(\"activity.\" + id.toString())) || {};\n\n    if (!activity.id) {\n      activity = await StravaClient.getActivity(id);\n    }\n\n    const stream = await StravaClient.getActivityStream(id);\n\n    stream.tss = tss(stream, user);\n\n    activity = {\n      ...activity,\n      ...stream\n    };\n\n    await Storage.setItem(\"activity.\" + id.toString(), activity);\n\n    return activity;\n  }\n}\n","import { render } from \"./Activities.vue?vue&type=template&id=041b5fe6\"\nimport script from \"./Activities.vue?vue&type=script&lang=js\"\nexport * from \"./Activities.vue?vue&type=script&lang=js\"\n\nimport \"./Activities.vue?vue&type=style&index=0&id=041b5fe6&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"activity\">\n    <h1>{{ activity.name }}</h1>\n    <dl>\n      <dt>TSS</dt>\n      <dd>{{ activity.tss }}</dd>\n      <dt>Start date</dt>\n      <dd>{{ activity.start_date }}</dd>\n    </dl>\n    <button @click=\"getStream(activity.id)\">Get stream</button>\n    <button v-if=\"activity.time\" @click=\"showChart\">Show chart</button>\n\n    <div class=\"chart\">\n      <v-chart :option=\"option\"></v-chart>\n    </div>\n  </div>\n</template>\n<script>\nimport StravaClient from \"../services/StravaClient\";\nimport Storage from \"@/services/Storage\";\nimport Calculator from \"../services/calculators/tss-calculator\";\nimport VChart from \"vue-echarts\";\nimport \"echarts\";\nimport {defineComponent} from \"vue\";\nimport Importer from \"@/services/Importer\";\n\nexport default defineComponent({\n  name: \"Activity\",\n  components: {\n    VChart: VChart,\n  },\n  data() {\n    return {\n      activity: {},\n      option: {},\n    };\n  },\n  methods: {\n    async getStream(id) {\n      this.activity = await Importer.importStream(id);\n    },\n    showChart() {\n      this.option = {\n        tooltip: {\n          trigger: \"axis\",\n        },\n        legend: {\n          data: [\"HR\"],\n        },\n        xAxis: {\n          data: this.activity.time.data,\n        },\n        yAxis: {},\n        series: [\n          {\n            name: \"HR\",\n            type: \"line\",\n            data: (this.activity.heartrate || {}).data || [],\n          },\n        ],\n      };\n    },\n  },\n  async created() {\n    const id = this.$route.params.id;\n    let activity = await Storage.getItem(\"activity.\" + id);\n\n    if (!activity) {\n      // Get it from strava.\n      activity = await StravaClient.getActivity(id);\n      await Storage.setItem(\"activity.\" + id, activity);\n    }\n    this.activity = activity;\n\n    if (this.activity.time) {\n      this.showChart()\n    }\n  },\n});\n</script>\n<style scoped>\ncanvas {\n  border: 1px solid black;\n}\n\n.chart {\n  height: 600px;\n}\n</style>\n","import { render } from \"./Activity.vue?vue&type=template&id=f9087ace&scoped=true\"\nimport script from \"./Activity.vue?vue&type=script&lang=js\"\nexport * from \"./Activity.vue?vue&type=script&lang=js\"\n\nimport \"./Activity.vue?vue&type=style&index=0&id=f9087ace&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-f9087ace\"\n\nexport default script","<template>\n  <div class=\"chart\">\n    <form action=\"#\" @submit.prevent=\"calculate\">\n      <div>\n        <input type=\"radio\" v-model=\"chart\" name=\"chart\" id=\"tsb\" value=\"tsb\">\n        <label for=\"tsb\">TSB</label>\n      </div>\n      <div>\n        <input type=\"radio\" v-model=\"chart\" name=\"chart\" id=\"bannister\" value=\"bannister\">\n        <label for=\"bannister\">Bannister</label>\n      </div>\n      <div>\n        <input type=\"radio\" disabled=\"disabled\" v-model=\"chart\" name=\"chart\" id=\"busso\" value=\"busso\">\n        <label for=\"busso\">Busso</label>\n      </div>\n      <input type=\"submit\" value=\"Calculate\" />\n    </form>\n    <v-chart :option=\"option\"></v-chart>\n  </div>\n</template>\n<script>\nimport \"echarts\";\nimport { use } from \"echarts/core\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { LineChart } from \"echarts/charts\";\nimport {\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent\n} from \"echarts/components\";\nimport VChart from \"vue-echarts\";\nimport { defineComponent } from \"vue\";\nimport {tsb, values} from \"@/services/calculators/tsb-calculator\";\nimport Storage from '@/services/Storage';\nimport {bannister} from \"@/services/calculators/bannister-calculator\";\n\nuse([\n  CanvasRenderer,\n  LineChart,\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent\n]);\n\nexport default defineComponent({\n  name: \"Chart\",\n  components: {\n    VChart\n  },\n  data() {\n    return {\n      chart: \"tsb\",\n      days: [],\n      option: {}\n    };\n  },\n  methods: {\n    async calculate() {\n      const ids = Object.keys(await Storage.getItem(\"activities\"));\n      const activities = [];\n\n      for (const id of ids) {\n        const activity = await Storage.getItem(\"activity.\" + id);\n        if (activity) {\n          activities.push(activity);\n        }\n      }\n\n      await Storage.setItem(\"tsb\", tsb(activities));\n      await Storage.setItem(\"bannister\", bannister(activities));\n\n      this.setOptions(await Storage.getItem(this.chart));\n    },\n    setOptions(days) {\n      this.option = {\n        tooltip: {\n          trigger: \"axis\"\n        },\n        legend: {\n          data: [\"Atl\", \"Ctl\", \"Form\", \"TSS\"]\n        },\n        xAxis: {\n          data: Object.values(days).map(day => day.date)\n        },\n        yAxis: {},\n        series: [\n          {\n            type: \"line\",\n            markLine: {\n              data: [\n                {\n                  name: \"Today\",\n                  xAxis: new Date().toISOString().split(\"T\")[0]\n                }\n              ]\n            }\n          },\n          {\n            name: \"TSS\",\n            type: \"scatter\",\n            data: Object.values(days)\n              .filter(day => day.tss)\n              .map(day => {\n                  return {\n                      value: [day.date, Math.round(day.tss)],\n                      name: 'hoi',\n                    }\n                }),\n            markLine: {\n              data: [\n                {\n                  yAxis: 25\n                }\n              ]\n            }\n          },\n          {\n            name: \"Form\",\n            type: \"line\",\n            data: Object.values(days).map(day => [day.date, day.form])\n          },\n          {\n            name: \"Atl\",\n            type: \"line\",\n            data: Object.values(days).map(day => [day.date, day.atl])\n          },\n          {\n            name: \"Ctl\",\n            type: \"line\",\n            data: Object.values(days).map(day => [day.date, day.ctl])\n          }\n        ]\n      };\n    }\n  },\n  watch: {\n    chart: async function (chart) {\n      const days = (await Storage.getItem(chart)) || {};\n      this.setOptions(days);\n    }\n  },\n  async created() {\n    this.chart = (await Storage.getItem(\"config\") || { chart: \"tsb\"}).chart;\n    const days = (await Storage.getItem(this.chart)) || {};\n    this.setOptions(days);\n  }\n});\n</script>\n<style scoped>\n.chart {\n  height: 600px;\n}\n</style>\n","import {Activity} from \"@/types/Activity\";\nimport {Day} from \"@/types/Day\";\nimport {Days} from \"@/types/Days\";\n\nexport const DAY_IN_MILLISECONDS = 1000 * 60 * 60 * 24;\n\nconst timelineObject = (activities: Activity[]): Days => {\n    const timeline: Days = {};\n\n    for (const activity of activities) {\n        const date = new Date(activity.start_date_local).toISOString().split('T')[0];\n\n        if (timeline[date]) {\n            timeline[date].tss = (timeline[date].tss || 0) + activity.tss;\n            timeline[date].activities!.push({\n                name: activity.name,\n                id: activity.id,\n            });\n        } else {\n            timeline[date] = {\n                tss: activity.tss,\n                activities: [{name: activity.name, id: activity.id}],\n            };\n        }\n    }\n\n    return timeline;\n}\n\nconst timelineArray = (activities: Activity[]) => {\n    const timeline: Day[] = [];\n    const object = timelineObject(activities);\n\n    for (const date of Object.keys(object)) {\n        timeline.push({\n            date: date,\n            ...object[date],\n        });\n    }\n\n    return timeline.sort((a, b) => {\n        return new Date(a.date || '').getTime() - new Date(b.date || '').getTime();\n    });\n}\n\nexport function timeline(activities: Activity[]): Day[] {\n    const timeline = [];\n    const object = timelineObject(activities);\n    let date = new Date('2021-01-01'); // FIXME\n    const limit = new Date().getTime() + DAY_IN_MILLISECONDS * 14; // Predict 14 days into the future.\n\n    while (date.getTime() <= limit) {\n        const iso = date.toISOString().split('T')[0];\n        const day = object[iso] || {\n            date: iso,\n            tss: 0,\n        };\n        timeline.push({\n            date: iso,\n            ...day,\n        });\n\n        date.setTime(date.getTime() + DAY_IN_MILLISECONDS);\n    }\n\n    return timeline;\n}\n","import { Day } from \"@/types/Day\";\nimport {Activity} from \"@/types/Activity\";\nimport {timeline} from \"@/services/calculators/calculator\";\n\nconst lambdaA = 2 / (7 + 1);\nconst lambdaC = 2 / (42 + 1);\n\nexport function values(yesterday: Day, today: Day): Day {\n  const atl =\n      (today.tss || 0) * lambdaA + (1 - lambdaA) * (yesterday.atl || 0);\n  const ctl =\n      (today.tss || 0) * lambdaC + (1 - lambdaC) * (yesterday.ctl || 0);\n\n  return {\n    atl: atl,\n    ctl: ctl,\n    form: (yesterday.ctl || 0) - (yesterday.atl || 0)\n  };\n}\n\nexport function tsb(activities: Activity[]) {\n  const days = timeline(activities);\n  let yesterday: Day = {\n    atl: 0,\n    ctl: 0,\n    form: 0,\n    tss: 0,\n  };\n\n  for (const day of days) {\n    const v = values(yesterday, day);\n\n    day.atl = v.atl;\n    day.ctl = v.ctl;\n    day.form = v.form;\n\n    yesterday = {...v};\n  }\n\n  return days;\n}\n","// https://fellrnr.com/wiki/Modeling_Human_Performance#The_Banister_Model\n\nimport {DAY_IN_MILLISECONDS, timeline} from \"@/services/calculators/calculator\";\nimport {Activity} from \"@/types/Activity\";\n\nconst kA = 1.0;\nconst kF = 1.8; // 1.8 - 2.0\nconst rA = 42; // 49 - 50\nconst rF = 11;\n\nconst fitness = (tss: number, t: number, s: number) => {\n    return Math.exp(-(t - s) / rA) * tss;\n}\n\nconst fatigue = (tss: number, t: number, s: number) => {\n    return Math.exp(-(t - s) / rF) * tss;\n}\n\nconst performance = (p0: number, fitness: number, fatigue: number) => {\n    return p0 + kA * fitness - kF * fatigue;\n}\n\nexport function bannister(activities: Activity[]) {\n    const days = timeline(activities);\n\n    // Performance at day 0.\n    const p0 = 0;\n    // Days since day 0.\n    let t = 0;\n\n    for (const day of days) {\n        for (let s = 0; s < t; s++) {\n            day.ctl = (day.ctl || 0) + fitness(days[s].tss || 0, t, s);\n            day.atl = (day.atl || 0) + fatigue(days[s].tss || 0, t, s);\n        }\n        day.form = performance(p0, day.ctl || 0, day.atl || 0);\n\n        // Next day.\n        t++;\n    }\n\n    return days;\n}\n","import { render } from \"./Chart.vue?vue&type=template&id=b49bbc38&scoped=true\"\nimport script from \"./Chart.vue?vue&type=script&lang=js\"\nexport * from \"./Chart.vue?vue&type=script&lang=js\"\n\nimport \"./Chart.vue?vue&type=style&index=0&id=b49bbc38&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-b49bbc38\"\n\nexport default script","<template>\n  <div class=\"config\">\n    <form action=\"#\" @submit.prevent=\"save\">\n      <div>\n        <p>Preferred chart.</p>\n        <div>\n          <div>\n            <input type=\"radio\" v-model=\"chart\" name=\"chart\" id=\"tsb\" value=\"tsb\">\n            <label for=\"tsb\">TSB</label>\n          </div>\n          <div>\n            <input type=\"radio\" v-model=\"chart\" name=\"chart\" id=\"busso\" value=\"busso\">\n            <label for=\"busso\">Busso</label>\n          </div>\n          <div>\n            <input type=\"radio\" v-model=\"chart\" name=\"chart\" id=\"bannister\" value=\"bannister\">\n            <label for=\"bannister\">Bannister</label>\n          </div>\n        </div>\n      </div>\n      <div>\n        <input type=\"submit\" value=\"Save\">\n      </div>\n    </form>\n  </div>\n</template>\n<script>\nimport Storage from \"@/services/Storage\";\n\nexport default {\n  name: \"Config\",\n  data() {\n    return {\n      chart: 'tsb',\n    }\n  },\n  methods: {\n    async save() {\n      const data = JSON.parse(JSON.stringify(this.$data));\n      await Storage.setItem(\"config\", data);\n    }\n  },\n  async mounted() {\n    const config = await Storage.getItem(\"config\");\n    Object.assign(this.$data, config);\n  }\n}\n</script>\n","import { render } from \"./Config.vue?vue&type=template&id=fb68bc96\"\nimport script from \"./Config.vue?vue&type=script&lang=js\"\nexport * from \"./Config.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory, RouteRecordRaw } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\nimport Activities from \"../views/Activities.vue\";\nimport Activity from \"../views/Activity.vue\";\nimport Chart from \"../views/Chart.vue\";\nimport Config from \"@/views/Config.vue\";\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n  },\n  {\n    path: \"/activities\",\n    name: \"Activities\",\n    component: Activities,\n  },\n  {\n    path: \"/activities/:id\",\n    component: Activity,\n  },\n  {\n    path: \"/chart\",\n    component: Chart,\n  },\n  {\n    path: \"/config\",\n    component: Config\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","import {createApp} from \"vue\";\nimport App from \"./App.vue\";\nimport \"./registerServiceWorker\";\nimport router from \"./router\";\n\ncreateApp(App)\n    .use(router)\n    .mount(\"#app\");\n\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Activities.vue?vue&type=style&index=0&id=041b5fe6&lang=css\""],"sourceRoot":""}